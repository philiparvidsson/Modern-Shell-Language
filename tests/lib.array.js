include('array.js')
include('assert.js')

a = array()
assert.equal(a.length, 0, 'new array should be zero-length')

a.push('abc')
assert.equal(a.length, 1, 'array length error 1')
a.push('xyz')
assert.equal(a.length, 2, 'array length error 2')
a.push('123')
assert.equal(a.length, 3, 'array length error 3')
a.insert('qqq', 1)
assert.equal(a.length, 4, 'array length error 4')

assert.equal(a[0], 'abc', 'first element could not be read properly')
assert.equal(a[1], 'qqq', 'second element could not be read properly')
assert.equal(a[2], 'xyz', 'third element could not be read properly')
assert.equal(a[3], '123', 'fourth element could not be read properly')

assert.equal(a.pop(), '123', 'pop seems to have failed 1')
assert.equal(a.length, 3, 'array length error 5')
assert.equal(a.pop(), 'xyz', 'pop seems to have failed 2')
assert.equal(a.length, 2, 'array length error 6')
assert.equal(a.pop(), 'qqq', 'pop seems to have failed 3')
assert.equal(a.length, 1, 'array length error 7')
assert.equal(a.pop(), 'abc', 'pop seems to have failed 4')
assert.equal(a.length, 0, 'array length error 8')
